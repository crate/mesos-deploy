{
  "id": "/crate/crate-fw",
  "cmd": "crate -Des.http.cors.enabled=true -Des.gateway.recover_after_nodes=$RECOVER_AFTER_NODES -Des.discovery.zen.minimum_master_nodes=$MIN_MASTER_NODES -Des.gateway.expected_nodes=$EXPECTED_NODES -Des.http.cors.allow-credentials=true -Des.http.cors.allow-origin=* -Des.cluster.name=packet-crate-io -Des.network.publish_host=$HOST -Des.udc.enabled=false -Des.discovery.zen.ping.multicast.enabled=false -Des.discovery.zen.ping.unicast.hosts=$HOSTS",
  "cpus": 0.25,
  "mem": 256,
  "disk": 0,
  "instances": 3,
  "constraints": [
    [
      "hostname",
      "UNIQUE"
    ]
  ],
  "container": {
    "type": "DOCKER",
    "volumes": [
      {
        "containerPath": "/data",
        "hostPath": "/opt/data",
        "mode": "RW"
      },
      {
        "containerPath": "/etc/mesos-slave/",
        "hostPath": "/etc/mesos-slave/",
        "mode": "RO"
      }
    ],
    "docker": {
      "image": "crate/crate:latest",
      "network": "BRIDGE",
      "portMappings": [
        {
          "containerPort": 0,
          "hostPort": 0,
          "servicePort": 10002,
          "protocol": "tcp",
          "labels": {}
        }
      ],
      "privileged": false,
      "parameters": [
        {
          "key": "env",
          "value": "CRATE_HEAP_SIZE=4g"
        },
        {
          "key": "publish",
          "value": "4200:4200/tcp"
        },
        {
          "key": "publish",
          "value": "4300:4300/tcp"
        }
      ],
      "forcePullImage": true
    }
  },
  "env": {
    "CRATE_HEAP_SIZE": "4g",
    "EXPECTED_NODES": "3",
    "MIN_MASTER_NODES": "2",
    "HOSTS": "10.80.44.153:4300,10.80.44.149:4300,10.80.44.151:4300",
    "RECOVER_AFTER_NODES": "3"
  },
  "labels": {},
  "healthChecks": []
}
